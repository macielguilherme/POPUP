<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Protótipo Termos de Uso - SmartDocs</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <style>
        :root {
            --primary-blue: rgb(47, 22, 201);
            --text-main: rgba(0, 0, 0, 0.87);
            --text-secondary: rgba(0, 0, 0, 0.6);
            --disabled: rgba(0, 0, 0, 0.12);
            --disabled-text: rgba(0, 0, 0, 0.26);
            --shadow: rgba(0, 0, 0, 0.2) 0px 11px 15px -7px, rgba(0, 0, 0, 0.14) 0px 24px 38px 3px, rgba(0, 0, 0, 0.12) 0px 9px 46px 8px;
        }

        body { margin: 0; font-family: 'Roboto', sans-serif; background: #fafafa; }

        /* BACKDROP */
        #termo-backdrop {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.5); display: flex; align-items: center; 
            justify-content: center; z-index: 9999;
        }

        .modal {
            background: #fff; width: 560px; max-width: 95%; border-radius: 8px;
            box-shadow: var(--shadow); padding: 32px; position: relative; box-sizing: border-box;
        }

        .btn-close {
            position: absolute; top: 16px; right: 16px; background: none; 
            border: none; cursor: pointer; color: var(--text-secondary);
        }

        h6 { margin: 0 0 12px 0; font-size: 20px; font-weight: 500; color: var(--text-main); }
        .message { font-size: 15px; color: var(--text-secondary); line-height: 1.5; margin-bottom: 24px; }

        .pdf-link {
            display: inline-flex; align-items: center; color: var(--primary-blue);
            font-weight: 500; text-decoration: none; font-size: 14px;
            text-transform: uppercase; letter-spacing: 0.4px; margin-bottom: 32px; cursor: pointer;
        }

        .actions { display: flex; gap: 16px; justify-content: flex-end; }

        .btn {
            padding: 10px 24px; border-radius: 4px; font-size: 14px; font-weight: 500;
            cursor: pointer; text-transform: uppercase; letter-spacing: 0.4px; transition: all 0.2s;
        }

        .btn-outlined { background: transparent; color: var(--primary-blue); border: 1px solid rgba(47, 22, 201, 0.5); }
        .btn-contained { background: var(--primary-blue); color: #fff; border: none; box-shadow: 0px 3px 1px -2px rgba(0,0,0,0.2); }

        .btn-contained:disabled {
            background-color: var(--disabled) !important;
            color: var(--disabled-text) !important;
            box-shadow: none; cursor: not-allowed;
        }

        #tela-recusa { display: none; text-align: center; }
        .alert-icon { color: #ef6c00; font-size: 48px; margin-bottom: 16px; }
    </style>
</head>
<body>

<div id="termo-backdrop">
    <div id="modal-principal" class="modal">
        <button class="btn-close" onclick="fluxoRecusa()"><span class="material-icons">close</span></button>
        <h6>Termos de Uso e Política de Privacidade</h6>
        <p class="message">Para continuar utilizando o <strong>SmartDocs</strong>, é necessário ler e aceitar os Termos de Uso atualizados (v. 10/10/2024).</p>
        
        <a onclick="gerarEPredizerPDF()" class="pdf-link">
            <span class="material-icons" style="margin-right: 8px;">picture_as_pdf</span>
            Visualizar Termo de Uso (PDF)
        </a>

        <div class="actions">
            <button class="btn btn-outlined" onclick="fluxoRecusa()">Não Aceito</button>
            <button id="btn-aceitar" class="btn btn-contained" disabled onclick="finalizarAceite()">Aceito os Termos</button>
        </div>
    </div>

    <div id="tela-recusa" class="modal">
        <span class="material-icons alert-icon">warning</span>
        <h6>Acesso Bloqueado</h6>
        <p class="message">Você precisa aceitar os Termos de Uso para utilizar o SmartDocs.</p>
        <div style="display: flex; justify-content: center;">
            <button class="btn btn-contained" onclick="voltarParaTermos()">Tentar Novamente</button>
        </div>
    </div>
</div>

<script>
   
    function gerarEPredizerPDF() {
        const conteudoTermo = "%PDF-1.4\n1 0 obj\n<< /Title (Termos SmartDocs) >>\nendobj\n2 0 obj\n<< /Type /Catalog /Pages 3 0 R >>\nendobj\n3 0 obj\n<< /Type /Pages /Kids [4 0 R] /Count 1 >>\nendobj\n4 0 obj\n<< /Type /Page /Parent 3 0 R /MediaBox [0 0 612 792] /Contents 5 0 R >>\nendobj\n5 0 obj\n<< /Length 50 >>\nstream\nBT /F1 24 Tf 100 700 Td (TERMOS DE USO SMARTDOCS 2024) Tj ET\nendstream\nendobj\nxref\n0 6\n0000000000 65535 f\n0000000009 00000 n\n0000000058 00000 n\n0000000108 00000 n\n0000000168 00000 n\n0000000266 00000 n\ntrailer\n<< /Size 6 /Root 2 0 R >>\nstartxref\n365\n%%EOF";
        
        const blob = new Blob([conteudoTermo], { type: 'application/pdf' });
        const url = URL.createObjectURL(blob);
        window.open(url, '_blank');

        // Habilita o botão após a ação
        const btnAceitar = document.getElementById('btn-aceitar');
        btnAceitar.disabled = false;
    }

   
    function fluxoRecusa() {
        document.getElementById('modal-principal').style.display = 'none';
        document.getElementById('tela-recusa').style.display = 'block';
    }

    function voltarParaTermos() {
        document.getElementById('tela-recusa').style.display = 'none';
        document.getElementById('modal-principal').style.display = 'block';
    }

    function finalizarAceite() {
        alert("Aceite registrado com sucesso!");
        document.getElementById("termo-backdrop").style.display = "none";
    }
</script>

</body>
</html>
